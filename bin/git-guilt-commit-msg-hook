#!/bin/sh

# To hack on this hook, run this in your project directory:
# ```
# cd ../git-guilt && npm link && cd ../your-app && npm link git-guilt-staged && git add . && git commit -m "fix: asdf" && git reset --soft HEAD~1
# ```
# (Of course, first: git clone, npm install)
# Then, make edits to any source code in either project, and re-run this command.

CURRENT_COMMIT_MSG=$(cat $1)

BLAME_DIFF_COLORED=node "$(git-root)/node_modules/.bin/git-guilt" --ignore-whitespace false --commit-message-path "$1" --current-commit-message "$CURRENT_COMMIT_MSG" HEAD

# Assumption is that this can only be helpful:
echo "Suggested reviewers for this change:\n$BLAME_DIFF_COLORED"
